ekf_filter_node:
  ros__parameters:
    frequency: 30.0
    sensor_timeout: 0.1
    two_d_mode: true
    transform_time_offset: 0.0
    transform_timeout: 0.0
    map_frame: "map"
    odom_frame: "odom"
    base_link_frame: "base_link"
    world_frame: "map"
    publish_tf: true

    # High-rate wheel odometry
    odom0: "odomWheel"
    odom0_config: [true, true, false,
                   false, false, true,
                   true, true, false,
                   false, false, true,
                   false, false, false]
    odom0_differential: false
    odom0_relative: false
    odom0_queue_size: 10
    odom0_pose_covariance: [0.05, 0.0, 0.0, 0.0, 0.0, 0.0,
                            0.0, 0.05, 0.0, 0.0, 0.0, 0.0,
                            0.0, 0.0, 0.1, 0.0, 0.0, 0.0,
                            0.0, 0.0, 0.0, 0.1, 0.0, 0.0,
                            0.0, 0.0, 0.0, 0.0, 0.1, 0.0,
                            0.0, 0.0, 0.0, 0.0, 0.0, 0.05]

    # Lower-rate camera odometry
    pose0: "camera_pose"
    pose0_frame: "map"
    pose0_config: [true, true, false,
                   false, false, true,
                   false, false, false,
                   false, false, false,
                   false, false, false]
    pose0_differential: false
    pose0_relative: false
    pose0_queue_size: 10
    pose0_pose_covariance: [0.01, 0.0, 0.0, 0.0, 0.0, 0.0,
                            0.0, 0.01, 0.0, 0.0, 0.0, 0.0,
                            0.0, 0.0, 0.01, 0.0, 0.0, 0.0,
                            0.0, 0.0, 0.0, 0.01, 0.0, 0.0,
                            0.0, 0.0, 0.0, 0.0, 0.01, 0.0,
                            0.0, 0.0, 0.0, 0.0, 0.0, 0.01]

    # BNO055 IMU (angles are highly trusted)
#    imu0: "/bno055/imu"
#    imu0_config: [false, false, false,   # No position
#                  false, false, true,    # Yaw velocity (only yaw in 2D mode)
#                  false, false, false,   # No linear acceleration
#                  true, true, true,      # Roll, pitch, yaw angles (trusted)
#                  false, false, false]
#    imu0_differential: false
#    imu0_relative: true
#    imu0_queue_size: 10
#    imu0_remove_gravitational_acceleration: true
#    imu0_pose_covariance: [ 0.01, 0.0, 0.0, 0.0, 0.0, 0.0,
#                            0.0, 0.01, 0.0, 0.0, 0.0, 0.0,
#                            0.0, 0.0, 0.01, 0.0, 0.0, 0.0,
#                            0.0, 0.0, 0.0, 0.01, 0.0, 0.0,
#                            0.0, 0.0, 0.0, 0.0, 0.01, 0.0,
#                            0.0, 0.0, 0.0, 0.0, 0.0, 0.01 ]
#
#    imu0_twist_covariance: [ 0.02, 0.0, 0.0, 0.0, 0.0, 0.0,
#                             0.0, 0.02, 0.0, 0.0, 0.0, 0.0,
#                             0.0, 0.0, 0.02, 0.0, 0.0, 0.0,
#                             0.0, 0.0, 0.0, 0.02, 0.0, 0.0,
#                             0.0, 0.0, 0.0, 0.0, 0.02, 0.0,
#                             0.0, 0.0, 0.0, 0.0, 0.0, 0.02 ]


