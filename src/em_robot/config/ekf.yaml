ekf_filter_node:
  ros__parameters:
    frequency: 30.0             # EKF update rate (Hz)
    sensor_timeout: 0.1         # Sensor timeout in seconds
    two_d_mode: true            # Restrict the filter to 2D (x, y, yaw)
    transform_time_offset: 0.0
    transform_timeout: 0.0
    publish_tf: true
    map_frame: "map"
    odom_frame: "odom"
    base_link_frame: "base_link"
    world_frame: "odom"

    # High-rate wheel odometry (less trusted)
    odom0: odomWheel
    odom0_config: [true, true, false,   # x, y, yaw positions
                   false, false, true,   # yaw rate (angular velocity)
                   false, false, false,  # unused fields (z, roll, pitch)
                   false, false, false,
                   false, false, false]
    odom0_differential: false
    odom0_relative: false
    odom0_queue_size: 10
    odom0_pose_covariance: [0.1, 0,   0,   0, 0, 0,
                            0,   0.1, 0,   0, 0, 0,
                            0,   0,   0.1, 0, 0, 0,
                            0,   0,   0,   0.1, 0, 0,
                            0,   0,   0,   0, 0.1, 0,
                            0,   0,   0,   0, 0, 0.1]

    # Lower-rate camera odometry (more trusted)
    odom1: odomCam
    odom1_config: [true, true, false,   # x, y, yaw positions
                   false, false, true,   # yaw rate (angular velocity)
                   false, false, false,  # unused fields (z, roll, pitch)
                   false, false, false,
                   false, false, false]
    odom1_differential: false
    odom1_relative: false
    odom1_queue_size: 10
    odom1_pose_covariance: [0.01, 0,    0,    0, 0, 0,
                            0,    0.01, 0,    0, 0, 0,
                            0,    0,    0.01, 0, 0, 0,
                            0,    0,    0,    0.01, 0, 0,
                            0,    0,    0,    0, 0.01, 0,
                            0,    0,    0,    0, 0, 0.01]
